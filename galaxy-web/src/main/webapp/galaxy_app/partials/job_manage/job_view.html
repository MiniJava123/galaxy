<div class="col-xs-12" ng-controller="JobViewCtrl">

    <form class="form-vertical" name="scheduleConfigForm" novalidate>
        <div class="col-xs-12  col-sm-12">
            <h4 class="header smaller lighter blue">
                                        <span> <strong>调度配置信息</strong>
                                        </span>
            </h4>
        </div>
        <div class="col-xs-12  col-sm-1"></div>
        <div class="col-xs-12">
            <div class="col-xs-12 form-group padding-top-6">
                <!--<label class="col-sm-1 control-label padding0 textRight">结果表名</label>-->

                <!--<div class="col-sm-3">-->
                <!--<input type="text" class="width-80" ng-change="checkTableName()" ng-model="tableName" ng-trim="true"-->
                <!--required>-->
                <!--<strong>*</strong>-->
                <!--</div>-->

                <label class="col-sm-1 control-label padding0 textRight">任务名称</label>

                <div class="col-sm-3">
                    <input type="text" class="width-80" ng-model="taskName" ng-change="checkTaskName()"
                           ng-disabled="true" ng-trim="true">
                </div>

                <label class="col-sm-1 control-label textRight">开发者:</label>

                <div class="col-sm-3">
                <span class="block input-icon input-icon-right">
					<input type="text" ng-model="developer" placeholder="不限" ng-disabled="true"
                           typeahead="developer.ID as developer.Text for developer in developers | filter:$viewValue"
                           class="width-80">
			    </span>
                </div>

                <label class="col-sm-1 control-label padding0 textRight">执行频率</label>

                <div class="col-sm-3">
                    <input type="text" class="width-80" name="freq" ng-model="frequency" ng-disabled="true">
                    <button class="help-button" tooltip-placement="top" tooltip="具体写法请点击" ng-click="frequencyHelp()">?
                    </button>
                </div>
            </div>


            <div class="col-xs-12 form-group padding-top-6">
                <label class="col-sm-1 control-label padding0 textRight">任务组</label>

                <div class="col-sm-3">
                    <select name="taskGroup" class="width-80" ng-model="taskGroup" ng-disabled="true"
                            ng-options="group.ID as group.Text for group in select.taskGroupOptions">
                    </select>
                </div>

                <label class="col-sm-1 control-label padding0 textRight">周期</label>

                <div class="col-sm-3">
                    <select name="taskCycle" class="width-80" ng-model="cycle" ng-disabled="true"
                            ng-options="k as v for (k,v) in select.cycleOptions">
                    </select>
                </div>


                <label class="col-sm-1 control-label padding0 textRight">优先级</label>

                <div class="col-sm-3">
                    <select name="taskPriority" class="width-80" ng-model="priority" ng-disabled="true"
                            ng-options="prioLvl.ID as prioLvl.Text for prioLvl in select.priorityOptions">
                    </select>
                </div>
            </div>

            <div class="col-xs-12 form-group padding-top-6">
                <label class="col-sm-1 control-label padding0 textRight">失败重跑</label>

                <div class="col-sm-3">
                    <select name="recall" class="width-80" ng-model="ifRecall" ng-disabled="true"
                            ng-options="ifRecall.ID as ifRecall.Text for ifRecall in select.ifRecallOptions"></select>
                    </select>
                </div>

                <label class="col-sm-1 control-label padding0 textRight">重跑次数上限</label>

                <div class="col-sm-3">
                    <select name="recallLimit" class="width-80" ng-model="recallLimit" ng-disabled="true"
                            ng-options="recallLimit for recallLimit in select.recallLimitOptions"></select>
                    </select>
                </div>

                <label class="col-sm-1 control-label padding0 textRight">失败重跑间隔</label>

                <div class="col-sm-3">
                    <select name="recallInterval" class="width-80" ng-model="recallInterval" ng-disabled="true"
                            ng-options="recallInterval.ID as recallInterval.Text for recallInterval in select.recallIntervalOptions"></select>
                    </select>
                </div>
            </div>

            <div class="col-xs-12 form-group padding-top-6">

                <label class="col-sm-1 control-label padding0 textRight">成功返回值</label>

                <div class="col-sm-3">
                    <input type="text" class="width-80" ng-model="successCode" ng-disabled="true" ng-trim="true">
                    <strong>*</strong>
                </div>

                <label class="col-sm-1 control-label padding0 textRight">等待返回码</label>

                <div class="col-sm-3">
                    <input type="text" class="width-80" ng-model="waitCode" ng-disabled="true" ng-trim="true">
                </div>

                <label class="col-sm-1 control-label padding0 textRight">偏移量</label>

                <div class="col-sm-3">
                    <select class="width-80" name="taskPeriod" ng-model="offset" ng-disabled="true"
                            ng-options="offset for offset in select.offsetOptions"></select>
                    </select>
                <span class="help-button" tooltip-placement="top"
                      tooltip="D：天级偏移，M：月级偏移，字母后的数字表示具体的偏移值，D0：不偏移，D1：向前偏移一天，M2：向前偏移两月">?</span>
                </div>

            </div>

            <div class="col-xs-12 form-group padding-top-6">

                <label class="col-sm-1 control-label padding0 textRight">超时时间</label>

                <div class="col-sm-3">
                    <select name="taskGroup" class="width-80" ng-model="timeout" ng-disabled="true"
                            ng-options="group.ID as group.Text for group in select.timeoutOptions"
                            ng-disabled="true">
                    </select>
                </div>

                <label class="col-sm-1 control-label padding0 textRight">执行命令</label>

                <div class="col-sm-7">
                    <input type="text" class="width-95" ng-model="para1" ng-disabled="true" ng-trim="true">
                    <strong>*</strong>
                    <!--<textarea type="text" rows=5 class="width-90" name="freq" ng-model="command">-->
                    <!--</textarea>-->
                </div>
            </div>
        </div>

        <div class="col-xs-12  col-sm-12">
            <h4 class="header smaller lighter blue">
                                        <span> <strong>调度依赖信息</strong>
                                        </span>
            </h4>
        </div>
        <div class="col-xs-12  col-sm-1"></div>

        <div class="col-xs-12" style="padding-bottom: 20px">
            <div class="col-xs-12 width-100">
                <div class="table-header">前驱依赖</div>
                <div class="table-responsive">
                    <div class="dataTables_wrapper" role="grid">
                        <table class="table table-striped table-bordered table-hover dataTable">
                            <thead>
                            <tr role="row">
                                <th>任务ID</th>
                                <th>任务名称</th>
                                <th>任务周期</th>
                                <th>偏移量</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="dependenceTask in dependenceTasks">
                                <td>{{dependenceTask.taskId}}</td>
                                <td>{{dependenceTask.taskName}}</td>
                                <td>
                                <span class="label {{getExecutionCycleLabel(dependenceTask.cycle)}}">{{getCycleText(dependenceTask.cycle)}}
                            </span>
                                </td>
                                <td>
                                    <select class="width-80" name="taskPeriod" ng-disabled="true"
                                            ng-model="dependenceTasks[$index].cycleGap"
                                            ng-options="offset for offset in {{getOffsetOptions(dependenceTask.cycle)}}"></select>
                                    </select>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>



